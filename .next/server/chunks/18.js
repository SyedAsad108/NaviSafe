exports.id=18,exports.ids=[18],exports.modules={2603:(e,t,r)=>{Promise.resolve().then(r.bind(r,2995)),Promise.resolve().then(r.bind(r,8107))},974:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3642,23)),Promise.resolve().then(r.t.bind(r,7586,23)),Promise.resolve().then(r.t.bind(r,7838,23)),Promise.resolve().then(r.t.bind(r,8057,23)),Promise.resolve().then(r.t.bind(r,7741,23)),Promise.resolve().then(r.t.bind(r,3118,23))},2995:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>i});var a=r(7247),n=r(7797);function i({children:e,...t}){return a.jsx(n.f,{...t,children:e})}},2502:(e,t,r)=>{"use strict";r.d(t,{X:()=>l,bZ:()=>s});var a=r(7247);r(8964);var n=r(7972),i=r(5008);let o=(0,n.j)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function s({className:e,variant:t,...r}){return a.jsx("div",{"data-slot":"alert",role:"alert",className:(0,i.cn)(o({variant:t}),e),...r})}function l({className:e,...t}){return a.jsx("div",{"data-slot":"alert-description",className:(0,i.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}},1365:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var a=r(7247);r(8964);var n=r(9008),i=r(7972),o=r(5008);let s=(0,i.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,asChild:r=!1,...i}){let l=r?n.g7:"span";return a.jsx(l,{"data-slot":"badge",className:(0,o.cn)(s({variant:t}),e),...i})}},8053:(e,t,r)=>{"use strict";r.d(t,{z:()=>l});var a=r(7247);r(8964);var n=r(9008),i=r(7972),o=r(5008);let s=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l({className:e,variant:t,size:r,asChild:i=!1,...l}){let c=i?n.g7:"button";return a.jsx(c,{"data-slot":"button",className:(0,o.cn)(s({variant:t,size:r,className:e})),...l})}},7757:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>o,Zb:()=>i,aY:()=>l,ll:()=>s});var a=r(7247);r(8964);var n=r(5008);function i({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function o({className:e,...t}){return a.jsx("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function s({className:e,...t}){return a.jsx("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",e),...t})}function l({className:e,...t}){return a.jsx("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",e),...t})}},6991:(e,t,r)=>{"use strict";r.d(t,{I:()=>i});var a=r(7247);r(8964);var n=r(5008);function i({className:e,type:t,...r}){return a.jsx("input",{type:t,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}},2394:(e,t,r)=>{"use strict";r.d(t,{_:()=>o});var a=r(7247);r(8964);var n=r(768),i=r(5008);function o({className:e,...t}){return a.jsx(n.f,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}},4662:(e,t,r)=>{"use strict";r.d(t,{SP:()=>l,dr:()=>s,mQ:()=>o,nU:()=>c});var a=r(7247);r(8964);var n=r(4310),i=r(5008);function o({className:e,...t}){return a.jsx(n.fC,{"data-slot":"tabs",className:(0,i.cn)("flex flex-col gap-2",e),...t})}function s({className:e,...t}){return a.jsx(n.aV,{"data-slot":"tabs-list",className:(0,i.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function l({className:e,...t}){return a.jsx(n.xz,{"data-slot":"tabs-trigger",className:(0,i.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function c({className:e,...t}){return a.jsx(n.VY,{"data-slot":"tabs-content",className:(0,i.cn)("flex-1 outline-none",e),...t})}},7246:(e,t,r)=>{"use strict";r.d(t,{j:()=>c});var a=r(8964),n=r(8161),i=r(6604);class o{constructor(){this.mockStorage=new Map,this.isDemoMode=!0,this.connection=new n.ew((0,n.Wf)("devnet"),"confirmed")}hashIdNumber(e){return(0,i.sha256)(e+"navisafe_salt_2024")}generateMockSignature(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="";for(let r=0;r<88;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}async registerTourist(e,t){try{let r,a,i;if(console.log("[v0] Starting tourist registration on blockchain..."),!e||!e.publicKey)throw Error("Wallet not connected or invalid");if(!t.registrationTimestamp||isNaN(t.registrationTimestamp))throw Error("Invalid registration timestamp");let o=e.publicKey,s=Date.now(),l=`NVS-${s}-${o.toString().slice(-8)}`;console.log("[v0] Digital ID:",l);let c=this.hashIdNumber(t.idNumber);if(this.isDemoMode)console.log("[v0] Running in demo mode - simulating blockchain transaction..."),r=this.generateMockSignature(),a=Math.floor(1e6*Math.random())+2e8,i=Math.floor(Date.now()/1e3),await new Promise(e=>setTimeout(e,1500));else{let t;let s=new n.YW().add(n.yc.transfer({fromPubkey:o,toPubkey:o,lamports:0})),{blockhash:l}=await this.connection.getLatestBlockhash();s.recentBlockhash=l,s.feePayer=o;try{t=await e.signTransaction(s)}catch(e){if(e.message?.includes("User rejected")||4001===e.code)throw Error("Transaction cancelled by user. Please approve the transaction to complete registration.");throw e}r=await this.connection.sendRawTransaction(t.serialize()),await this.connection.confirmTransaction(r,"confirmed");let c=await this.connection.getTransaction(r,{commitment:"confirmed"});a=c?.slot||0,i=c?.blockTime||Math.floor(Date.now()/1e3)}console.log("[v0] Registration transaction signature:",r);let d=n.RG.generate().publicKey.toString(),u={digitalId:l,name:t.name,gender:t.gender,age:t.age,idNumberHash:c,phone:t.phone,nationality:t.nationality,email:t.email||null,registrationTimestamp:t.registrationTimestamp,userPublicKey:o.toString()};return this.mockStorage.set(l,u),console.log("[v0] Tourist data stored:",u),{signature:r,slot:a,blockTime:i,touristAccountAddress:d}}catch(e){if(console.error("[v0] Registration failed:",e),e.message?.includes("User rejected")||e.message?.includes("cancelled"))throw Error("Registration cancelled. Please approve the wallet transaction to complete your registration.");throw Error(`Registration failed: ${e.message}`)}}async updateTripDetails(e,t,r){try{let a,i,o;if(console.log("[v0] Updating trip details on blockchain..."),!e||!e.publicKey)throw Error("Wallet not connected or invalid");if(!r.startDate||!r.endDate||isNaN(r.startDate)||isNaN(r.endDate))throw Error("Invalid trip dates");let s=e.publicKey,l=this.mockStorage.get(t);if(!l)throw Error("Tourist registration not found. Please register first.");if(console.log("[v0] Updating tourist account for digital ID:",t),this.isDemoMode)console.log("[v0] Running in demo mode - simulating trip update transaction..."),a=this.generateMockSignature(),i=Math.floor(1e6*Math.random())+2e8,o=Math.floor(Date.now()/1e3),await new Promise(e=>setTimeout(e,1500));else{let t;let r=new n.YW().add(n.yc.transfer({fromPubkey:s,toPubkey:s,lamports:0})),{blockhash:l}=await this.connection.getLatestBlockhash();r.recentBlockhash=l,r.feePayer=s;try{t=await e.signTransaction(r)}catch(e){if(e.message?.includes("User rejected")||4001===e.code)throw Error("Transaction cancelled by user. Please approve the transaction to update your trip details.");throw e}a=await this.connection.sendRawTransaction(t.serialize()),await this.connection.confirmTransaction(a,"confirmed");let c=await this.connection.getTransaction(a,{commitment:"confirmed"});i=c?.slot||0,o=c?.blockTime||Math.floor(Date.now()/1e3)}console.log("[v0] Trip update transaction signature:",a);let c={...l,tripDetails:{startDate:r.startDate,endDate:r.endDate,purpose:r.purpose,accommodation:r.accommodation||null,itinerary:r.itinerary,emergencyContacts:r.emergencyContacts},lastUpdated:Date.now()};return this.mockStorage.set(t,c),console.log("[v0] Trip details updated:",c),{signature:a,slot:i,blockTime:o,touristAccountAddress:l.touristAccountAddress||n.RG.generate().publicKey.toString()}}catch(e){if(console.error("[v0] Trip update failed:",e),e.message?.includes("User rejected")||e.message?.includes("cancelled"))throw Error("Update cancelled. Please approve the wallet transaction to update your trip details.");throw Error(`Trip update failed: ${e.message}`)}}async getTouristData(e,t){try{console.log("[v0] Fetching tourist data from blockchain...");let e=this.mockStorage.get(t);if(!e)throw Error("Tourist data not found");return console.log("[v0] Retrieved tourist data:",e),e}catch(e){throw console.error("[v0] Data retrieval failed:",e),Error(`Data retrieval failed: ${e.message}`)}}async verifyTransaction(e){try{if(this.isDemoMode)return 88===e.length;let t=await this.connection.getTransaction(e,{commitment:"confirmed"});return null!==t}catch(e){return console.error("[v0] Transaction verification failed:",e),!1}}getExplorerUrl(e){return`https://solscan.io/tx/${e}?cluster=devnet`}getAccountExplorerUrl(e){return`https://solscan.io/account/${e}?cluster=devnet`}getAllTouristData(){let e=[];for(let[t,r]of this.mockStorage.entries())e.push({digitalId:t,data:r});return e}}let s=new o;var l=r(1602);function c(){let{wallet:e,connected:t}=(0,l.K)(),[r,n]=(0,a.useState)({isLoading:!1,error:null,result:null,isSuccess:!1}),i=(0,a.useCallback)(()=>{n({isLoading:!1,error:null,result:null,isSuccess:!1})},[]),o=(0,a.useCallback)(async r=>{if(!t||!e)return n(e=>({...e,error:"Wallet not connected"})),null;n({isLoading:!0,error:null,result:null,isSuccess:!1});try{console.log("[v0] Initiating tourist registration transaction...");let t=await s.registerTourist(e,r);return n({isLoading:!1,error:null,result:t,isSuccess:!0}),console.log("[v0] Tourist registration successful:",t),t}catch(e){return console.error("[v0] Tourist registration failed:",e),n({isLoading:!1,error:e.message||"Registration failed",result:null,isSuccess:!1}),null}},[t,e]),c=(0,a.useCallback)(async(r,a)=>{if(!t||!e)return n(e=>({...e,error:"Wallet not connected"})),null;n({isLoading:!0,error:null,result:null,isSuccess:!1});try{console.log("[v0] Initiating trip details update transaction...");let t=await s.updateTripDetails(e,r,a);return n({isLoading:!1,error:null,result:t,isSuccess:!0}),console.log("[v0] Trip details update successful:",t),t}catch(e){return console.error("[v0] Trip details update failed:",e),n({isLoading:!1,error:e.message||"Trip update failed",result:null,isSuccess:!1}),null}},[t,e]),d=(0,a.useCallback)(async e=>{try{return await s.verifyTransaction(e)}catch(e){return console.error("[v0] Transaction verification failed:",e),!1}},[]);return{...r,registerTourist:o,updateTripDetails:c,verifyTransaction:d,resetState:i,getExplorerUrl:s.getExplorerUrl,getAccountExplorerUrl:s.getAccountExplorerUrl}}},1602:(e,t,r)=>{"use strict";r.d(t,{K:()=>i});var a=r(8964),n=r(8161);function i(){let[e,t]=(0,a.useState)({wallet:null,publicKey:null,connected:!1,connecting:!1,balance:null,error:null}),r=(0,a.useRef)(new n.ew((0,n.Wf)("devnet"),"confirmed")),i=(0,a.useCallback)(()=>null,[]),o=(0,a.useCallback)(async()=>{let e=i();if(!e)return t(e=>({...e,error:"No Solana wallet detected. Please install Phantom or Solflare wallet."})),!1;try{t(e=>({...e,connecting:!0,error:null}));let a=await e.connect(),n=a.publicKey.toString(),i=await r.current.getBalance(a.publicKey)/1e9;return t(t=>({...t,wallet:e,publicKey:n,connected:!0,connecting:!1,balance:i})),console.log("[v0] Wallet connected:",n),console.log("[v0] Wallet balance:",i,"SOL"),!0}catch(e){return console.error("[v0] Wallet connection failed:",e),t(t=>({...t,connecting:!1,error:e.message||"Failed to connect wallet"})),!1}},[i]),s=(0,a.useCallback)(async()=>{try{e.wallet&&await e.wallet.disconnect(),t({wallet:null,publicKey:null,connected:!1,connecting:!1,balance:null,error:null}),console.log("[v0] Wallet disconnected")}catch(e){console.error("[v0] Wallet disconnect failed:",e),t(t=>({...t,error:e.message||"Failed to disconnect wallet"}))}},[e.wallet]);return{...e,connectWallet:o,disconnectWallet:s,connection:r.current,isWalletAvailable:!!i()}}},5008:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var a=r(1929),n=r(5770);function i(...e){return(0,n.m6)((0,a.W)(e))}},6418:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g,metadata:()=>u});var a=r(2051),n=r(1563),i=r.n(n),o=r(761),s=r.n(o),l=r(4924);let c=(0,r(5347).createProxy)(String.raw`/workspaces/NaviSafe/components/theme-provider.tsx#ThemeProvider`);var d=r(6269);r(7272);let u={title:"NaviSafe - Smart Tourist Safety System",description:"Smart Tourist Safety Monitoring & Incident Response System",generator:"v0.app"};function g({children:e}){return a.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:(0,a.jsxs)("body",{className:`font-sans ${i().variable} ${s().variable}`,children:[a.jsx(d.Suspense,{fallback:null,children:a.jsx(c,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:e})}),a.jsx(l.c,{})]})})}},7272:()=>{}};